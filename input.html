<!-- FILE: input.html (versi Solusi B) -->
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <title>Input Nilai Siswa</title>
    <link href="style_input.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-sm">
        <div class="container-fluid">
            <a class="navbar-brand">Analisis Butir Soal</a>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Beranda</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link riwayat" href="riwayat.php">Riwayat</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="main-content">
        <div class="container-fluid">
            <h4>Input Nilai Siswa (0 atau 1)</h4>

            <div id="tabelContainer"></div>
            <button class="btn btn-success mt-3" onclick="analisisSoal()">Analisis Soal</button>
            <div id="hasilAnalisis" class="mt-4"></div>
        </div>
    </div>
  
    <script src="script.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        jumlahSiswa = parseInt(sessionStorage.getItem("jumlahSiswa"));
        jumlahSoal = parseInt(sessionStorage.getItem("jumlahSoal"));
        rTabel = parseFloat(sessionStorage.getItem("rTabel"));
        nilaiSiswa = JSON.parse(sessionStorage.getItem("nilaiSiswa")) || null;

        generateTable();

        // Auto load nilai jika ada data edit
        if (nilaiSiswa) {
            for (let i = 1; i <= jumlahSiswa; i++) {
                for (let j = 1; j <= jumlahSoal; j++) {
                    document.getElementById(`s${i}q${j}`).value = nilaiSiswa[i-1][j-1];
                }
            }
        }
    });
    </script>
</body>
</html>
